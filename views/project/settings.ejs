<% include ../partials/header %>

<div class="wrapper">
  <h1>Project Settings</h1>

  <form action="/project/<%= project._id %>/update?_method=PUT" method="POST">
    <label for="name">Name</label>
    <input type="text" id="name" name="name" placeholder="Name of the project" value="<%= project.name %>">
    <label for="language">Select Language</label>
    <select id="language" name="language">
      <option value="html" selected>HTML</option>
      <option value="css">CSS</option>
      <option value="js">JavaScript</option>
      <option value="php">PHP</option>
      <option value="java">Java</option>
    </select>
    <label for="description">Description</label>
    <textarea id="description" name="description" rows="6" placeholder="Describe your new project"><%= project.description %></textarea>
    <button>Update Project</button>
  </form>

  <section class="contributors-list">
    <h2>Remove A Contributor</h2>
    <ul>
      <% project.contributors.forEach(contributor => { %>
        <% if (!(JSON.stringify(project.owner) === JSON.stringify(contributor._id))) { %>
          <li>
            <form action="/project/<%= project._id %>/contributor/<%= contributor._id %>/remove?_method=DELETE" method="POST">
              <button>Remove <%= contributor.username %></button>
            </form>
          </li>
        <% } %>
      <% }); %>
    </ul>
  </section>

  <section class="delete-project">
    <h2>Delete Project</h2>
    <form action="/project/<%= project._id %>/delete?_method=DELETE" method="POST">
      <button>Delete</button>
    </form>
  </section>
</div>

<% include ../partials/footer %>
